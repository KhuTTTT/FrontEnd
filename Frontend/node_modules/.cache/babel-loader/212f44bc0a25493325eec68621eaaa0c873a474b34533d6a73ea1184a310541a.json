{"ast":null,"code":"var _jsxFileName = \"/Users/zoo/Desktop/Portfolio/Khuthon(2023)/Frontend/src/components/FileUploadQuiz.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from 'react';\nimport { createClient } from '@supabase/supabase-js';\nimport Swal from 'sweetalert2';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SUPABASE_URL = process.env.REACT_APP_SUPABASE_URL;\nconst SUPABASE_KEY = process.env.REACT_APP_SUPABASE_KEY;\nconst supabase = createClient(SUPABASE_URL, SUPABASE_KEY);\nfunction FileUploadQuiz(props) {\n  _s();\n  const fileInput = useRef();\n  const [loading, setLoading] = useState(false);\n  const uploadFile = async () => {\n    setLoading(true);\n    const file = fileInput.current.files[0];\n    const filePath = `pdfs/${file.name}`;\n    const {\n      error\n    } = await supabase.storage.from('url').upload(filePath, file);\n    if (error) {\n      console.error('Error uploading file: ', error);\n      Swal.fire({\n        icon: 'error',\n        title: 'Oops...',\n        text: 'Something went wrong!'\n      });\n    } else {\n      console.log('File uploaded successfully');\n      Swal.fire('Uploaded!', 'Your file has been uploaded.', 'success');\n\n      // Create FormData object\n      const formData = new FormData();\n      // Append the file to the form data\n      formData.append('file', file);\n      // Append the file name to the form data\n      formData.append('filename', file.name);\n\n      // Send a POST request to the API endpoint\n      axios.post('http://localhost:8000/create_file', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(response => {\n        console.log(response);\n        props.setQuizData(response.data);\n        props.setQuizData([]);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        style: {\n          display: 'none'\n        },\n        accept: \"application/pdf\",\n        ref: fileInput,\n        id: \"fileUpload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"fileUpload\",\n        className: \"file-upload-button\",\n        children: \"\\uD30C\\uC77C \\uC120\\uD0DD\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"UploadBtn\",\n        onClick: uploadFile,\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Uploading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 24\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(FileUploadQuiz, \"825NVXLR/4zBmFU1uulOR0BwdYs=\");\n_c = FileUploadQuiz;\nexport default FileUploadQuiz;\nvar _c;\n$RefreshReg$(_c, \"FileUploadQuiz\");","map":{"version":3,"names":["React","useRef","useState","createClient","Swal","axios","jsxDEV","_jsxDEV","SUPABASE_URL","process","env","REACT_APP_SUPABASE_URL","SUPABASE_KEY","REACT_APP_SUPABASE_KEY","supabase","FileUploadQuiz","props","_s","fileInput","loading","setLoading","uploadFile","file","current","files","filePath","name","error","storage","from","upload","console","fire","icon","title","text","log","formData","FormData","append","post","headers","then","response","setQuizData","data","catch","children","type","style","display","accept","ref","id","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","className","onClick","_c","$RefreshReg$"],"sources":["/Users/zoo/Desktop/Portfolio/Khuthon(2023)/Frontend/src/components/FileUploadQuiz.jsx"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport { createClient } from '@supabase/supabase-js';\nimport Swal from 'sweetalert2';\nimport axios from 'axios';\n\nconst SUPABASE_URL = process.env.REACT_APP_SUPABASE_URL;\nconst SUPABASE_KEY = process.env.REACT_APP_SUPABASE_KEY;\n\nconst supabase = createClient(SUPABASE_URL, SUPABASE_KEY);\n\nfunction FileUploadQuiz(props) {\n  const fileInput = useRef();\n  const [loading, setLoading] = useState(false);\n\n  const uploadFile = async () => {\n    setLoading(true);\n    const file = fileInput.current.files[0];\n    const filePath = `pdfs/${file.name}`;\n\n    const { error } = await supabase.storage.from('url').upload(filePath, file);\n    if (error) {\n      console.error('Error uploading file: ', error);\n      Swal.fire({\n        icon: 'error',\n        title: 'Oops...',\n        text: 'Something went wrong!',\n      });\n    } else {\n      console.log('File uploaded successfully');\n      Swal.fire('Uploaded!', 'Your file has been uploaded.', 'success');\n\n      // Create FormData object\n      const formData = new FormData();\n      // Append the file to the form data\n      formData.append('file', file);\n      // Append the file name to the form data\n      formData.append('filename', file.name);\n\n      // Send a POST request to the API endpoint\n      axios\n        .post('http://localhost:8000/create_file', formData, {\n          headers: { 'Content-Type': 'multipart/form-data' },\n        })\n        .then((response) => {\n          console.log(response);\n          props.setQuizData(response.data);\n          props.setQuizData([]);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div>\n      <div>\n        <input type='file' style={{ display: 'none' }} accept='application/pdf' ref={fileInput} id='fileUpload' />\n        <label htmlFor='fileUpload' className='file-upload-button'>\n          파일 선택\n        </label>\n      </div>\n      <div>\n        <button className='UploadBtn' onClick={uploadFile}>\n          Upload\n        </button>\n      </div>\n      <div>{loading && <div>Uploading...</div>}</div>\n    </div>\n  );\n}\n\nexport default FileUploadQuiz;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC/C,SAASC,YAAY,QAAQ,uBAAuB;AACpD,OAAOC,IAAI,MAAM,aAAa;AAC9B,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB;AACvD,MAAMC,YAAY,GAAGH,OAAO,CAACC,GAAG,CAACG,sBAAsB;AAEvD,MAAMC,QAAQ,GAAGX,YAAY,CAACK,YAAY,EAAEI,YAAY,CAAC;AAEzD,SAASG,cAAcA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAC7B,MAAMC,SAAS,GAAGjB,MAAM,CAAC,CAAC;EAC1B,MAAM,CAACkB,OAAO,EAAEC,UAAU,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMmB,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7BD,UAAU,CAAC,IAAI,CAAC;IAChB,MAAME,IAAI,GAAGJ,SAAS,CAACK,OAAO,CAACC,KAAK,CAAC,CAAC,CAAC;IACvC,MAAMC,QAAQ,GAAI,QAAOH,IAAI,CAACI,IAAK,EAAC;IAEpC,MAAM;MAAEC;IAAM,CAAC,GAAG,MAAMb,QAAQ,CAACc,OAAO,CAACC,IAAI,CAAC,KAAK,CAAC,CAACC,MAAM,CAACL,QAAQ,EAAEH,IAAI,CAAC;IAC3E,IAAIK,KAAK,EAAE;MACTI,OAAO,CAACJ,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9CvB,IAAI,CAAC4B,IAAI,CAAC;QACRC,IAAI,EAAE,OAAO;QACbC,KAAK,EAAE,SAAS;QAChBC,IAAI,EAAE;MACR,CAAC,CAAC;IACJ,CAAC,MAAM;MACLJ,OAAO,CAACK,GAAG,CAAC,4BAA4B,CAAC;MACzChC,IAAI,CAAC4B,IAAI,CAAC,WAAW,EAAE,8BAA8B,EAAE,SAAS,CAAC;;MAEjE;MACA,MAAMK,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/B;MACAD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEjB,IAAI,CAAC;MAC7B;MACAe,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEjB,IAAI,CAACI,IAAI,CAAC;;MAEtC;MACArB,KAAK,CACFmC,IAAI,CAAC,mCAAmC,EAAEH,QAAQ,EAAE;QACnDI,OAAO,EAAE;UAAE,cAAc,EAAE;QAAsB;MACnD,CAAC,CAAC,CACDC,IAAI,CAAEC,QAAQ,IAAK;QAClBZ,OAAO,CAACK,GAAG,CAACO,QAAQ,CAAC;QACrB3B,KAAK,CAAC4B,WAAW,CAACD,QAAQ,CAACE,IAAI,CAAC;QAChC7B,KAAK,CAAC4B,WAAW,CAAC,EAAE,CAAC;MACvB,CAAC,CAAC,CACDE,KAAK,CAAEnB,KAAK,IAAK;QAChBI,OAAO,CAACK,GAAG,CAACT,KAAK,CAAC;MACpB,CAAC,CAAC;IACN;IACAP,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC;EAED,oBACEb,OAAA;IAAAwC,QAAA,gBACExC,OAAA;MAAAwC,QAAA,gBACExC,OAAA;QAAOyC,IAAI,EAAC,MAAM;QAACC,KAAK,EAAE;UAAEC,OAAO,EAAE;QAAO,CAAE;QAACC,MAAM,EAAC,iBAAiB;QAACC,GAAG,EAAElC,SAAU;QAACmC,EAAE,EAAC;MAAY;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC1GlD,OAAA;QAAOmD,OAAO,EAAC,YAAY;QAACC,SAAS,EAAC,oBAAoB;QAAAZ,QAAA,EAAC;MAE3D;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eACNlD,OAAA;MAAAwC,QAAA,eACExC,OAAA;QAAQoD,SAAS,EAAC,WAAW;QAACC,OAAO,EAAEvC,UAAW;QAAA0B,QAAA,EAAC;MAEnD;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eACNlD,OAAA;MAAAwC,QAAA,EAAM5B,OAAO,iBAAIZ,OAAA;QAAAwC,QAAA,EAAK;MAAY;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC5C,CAAC;AAEV;AAACxC,EAAA,CA7DQF,cAAc;AAAA8C,EAAA,GAAd9C,cAAc;AA+DvB,eAAeA,cAAc;AAAC,IAAA8C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}